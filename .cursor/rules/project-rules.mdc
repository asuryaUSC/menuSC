---
description: 
globs: 
alwaysApply: true
---
# 🚀 USC Dining Menu PWA – Project Rules

## 🔧 Tech Stack
- Framework: Next.js with App Router
- Language: TypeScript
- Styling: Tailwind CSS
- UI Kit: Shadcn/UI
- State: React state and context (no Redux)
- Mobile-first: Design for iPhone Safari
- Backend: Firebase (Firestore or Storage)
- PWA: Configured with `next-pwa`

## 📁 Folder Structure Guidelines
- `/app`: Contains top-level route files (landing, menu, etc.)
- `/components`: Reusable UI components like FoodCard, MealSection, FilterDrawer
- `/lib`: Firebase SDK setup + helpers
- `/public`: PWA icons + manifest.json

## 🧠 Functional Requirements

### 1. Landing Screen (`/`)
- First-time landing
- Logo, welcome text, and instructions: "Tap ‘Share’ → ‘Add to Home Screen’"
- Button: “Open App” → Navigates to `/menu`

### 2. Main App Screen (`/menu`)
- Pulls today’s data from Firebase (JSON or Firestore)
- Swipeable top navigation between dining halls
- Accordion view for: Breakfast, Lunch, Dinner
- Inside each meal: collapsible sections (e.g., Flexitarian, Salad Bar)
- Items shown as food cards

### 3. Food Item Display
- Each food card shows:
  - Name
  - Allergen icons (color-coded badges)
- Simple design, readable on small screens

### 4. Filter Button
- Floating filter icon in corner
- Tap → opens bottom drawer/modal
- Shows all allergen icons
- Filters out foods with selected allergens

## 🌐 PWA Requirements
- Add `manifest.json` with app name, theme color, icon sizes
- Installable from Safari (iOS)
- Add service worker via `next-pwa`
- Offline support optional for now

## 🧪 UX Principles
- Prioritize mobile users
- Keep it faster and easier than the USC website
- Avoid clutter
- Tap-to-reveal, swipe-to-navigate
- Use clear iconography and minimal UI

## 🗃️ Data Structure
Expect daily JSON files in this structure:
```json
{
  "Breakfast for Tuesday - April 15, 2025": {
    "USC Village Dining Hall": {
      "Flexitarian": [
        {
          "name": "Eggs",
          "allergens": ["Eggs", "Vegetarian"]
        }
      ]
    }
  }
}
