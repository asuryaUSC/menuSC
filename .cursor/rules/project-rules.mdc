---
description: 
globs: 
alwaysApply: true
---
# ğŸš€ USC Dining Menu PWA â€“ Project Rules

## ğŸ”§ Tech Stack
- Framework: Next.js with App Router
- Language: TypeScript
- Styling: Tailwind CSS
- UI Kit: Shadcn/UI
- State: React state and context (no Redux)
- Mobile-first: Design for iPhone Safari
- Backend: Firebase (Firestore or Storage)
- PWA: Configured with `next-pwa`

## ğŸ“ Folder Structure Guidelines
- `/app`: Contains top-level route files (landing, menu, etc.)
- `/components`: Reusable UI components like FoodCard, MealSection, FilterDrawer
- `/lib`: Firebase SDK setup + helpers
- `/public`: PWA icons + manifest.json

## ğŸ§  Functional Requirements

### 1. Landing Screen (`/`)
- First-time landing
- Logo, welcome text, and instructions: "Tap â€˜Shareâ€™ â†’ â€˜Add to Home Screenâ€™"
- Button: â€œOpen Appâ€ â†’ Navigates to `/menu`

### 2. Main App Screen (`/menu`)
- Pulls todayâ€™s data from Firebase (JSON or Firestore)
- Swipeable top navigation between dining halls
- Accordion view for: Breakfast, Lunch, Dinner
- Inside each meal: collapsible sections (e.g., Flexitarian, Salad Bar)
- Items shown as food cards

### 3. Food Item Display
- Each food card shows:
  - Name
  - Allergen icons (color-coded badges)
- Simple design, readable on small screens

### 4. Filter Button
- Floating filter icon in corner
- Tap â†’ opens bottom drawer/modal
- Shows all allergen icons
- Filters out foods with selected allergens

## ğŸŒ PWA Requirements
- Add `manifest.json` with app name, theme color, icon sizes
- Installable from Safari (iOS)
- Add service worker via `next-pwa`
- Offline support optional for now

## ğŸ§ª UX Principles
- Prioritize mobile users
- Keep it faster and easier than the USC website
- Avoid clutter
- Tap-to-reveal, swipe-to-navigate
- Use clear iconography and minimal UI

## ğŸ—ƒï¸ Data Structure
Expect daily JSON files in this structure:
```json
{
  "Breakfast for Tuesday - April 15, 2025": {
    "USC Village Dining Hall": {
      "Flexitarian": [
        {
          "name": "Eggs",
          "allergens": ["Eggs", "Vegetarian"]
        }
      ]
    }
  }
}
